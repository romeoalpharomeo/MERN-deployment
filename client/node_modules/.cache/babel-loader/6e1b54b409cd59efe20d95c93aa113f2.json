{"ast":null,"code":"import _slicedToArray from\"/Users/acct1/Desktop/MERN_Belt/BOILER_PLATE/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'@reach/router';import axios from'axios';import'./PetList.css';// import { navigate } from '@reach/router';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetList=function PetList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleteOrAddPet=_useState4[0],setDeleteOrAddPet=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/allPets').then(function(res){setPets(res.data.pets);console.log(\"Pets set...\");}).catch(function(err){return console.log(\"Error with axios: \",err);});},[deleteOrAddPet]);var onDelete=function onDelete(event,petToDelete){console.log(\"Deleting...\");axios.delete(\"http://localhost:8000/api/deletePet/\".concat(petToDelete)).then(function(res){console.log(\"Delete in progress...\");console.log(res);setDeleteOrAddPet(!deleteOrAddPet);}).catch(function(err){return console.log(\"Error: \",err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/createPet\",className:\"btn btn-outline-dark btn-lg\",children:\"Add A Pet to the Shelter\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table border border-3 rounded w-50 mx-auto petTable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.sort(function(a,b){var typeA=a.type.toUpperCase();var typeB=b.type.toUpperCase();if(typeA<typeB){return-1;}if(typeA>typeB){return 1;}return 0;}).map(function(pet,idx){return/*#__PURE__*/_jsxs(\"tr\",{className:\"align-middle\",children:[/*#__PURE__*/_jsx(\"td\",{children:pet.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",pet.type,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/pets/edit/\".concat(pet._id),className:\"btn btn-warning mx-1\",children:\"Edit\"}),\" \",/*#__PURE__*/_jsx(Link,{to:\"/pets/\".concat(pet._id),className:\"btn btn-info mx-1\",children:\"Details\"})]})]},idx);})})]})})]});};export default PetList;","map":{"version":3,"sources":["/Users/acct1/Desktop/MERN_Belt/BOILER_PLATE/client/src/views/PetList.js"],"names":["React","useEffect","useState","Link","axios","PetList","props","pets","setPets","deleteOrAddPet","setDeleteOrAddPet","get","then","res","data","console","log","catch","err","onDelete","event","petToDelete","delete","sort","a","b","typeA","type","toUpperCase","typeB","map","pet","idx","name","_id"],"mappings":"qIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAAQC,IAAR,KAAmB,eAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,eAAP,CACA;wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACvB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,eAA4CN,QAAQ,CAAC,KAAD,CAApD,yCAAOO,cAAP,eAAuBC,iBAAvB,eAEAT,SAAS,CAAC,UAAI,CACVG,KAAK,CACAO,GADL,CACS,mCADT,EAEKC,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTL,OAAO,CAACK,GAAG,CAACC,IAAJ,CAASP,IAAV,CAAP,CACAQ,OAAO,CAACC,GAAR,CAAY,aAAZ,EACH,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIH,CAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCE,GAAlC,CAAJ,EANd,EAOH,CARQ,CAQN,CAACT,cAAD,CARM,CAAT,CAUA,GAAMU,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,WAAR,CAAwB,CACrCN,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAZ,KAAK,CACAkB,MADL,+CACmDD,WADnD,GAEKT,IAFL,CAEU,SAAAC,GAAG,CAAE,CACPE,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACAH,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CAGH,CARL,EASKQ,KATL,CASW,SAAAC,GAAG,QAAEH,CAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBE,GAAvB,CAAF,EATd,EAUH,CAZD,CAcA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,aAAR,CAAwB,SAAS,CAAC,6BAAlC,sCADJ,cAEI,YAAK,SAAS,CAAC,EAAf,uBACQ,eAAO,KAAK,CAAC,qDAAb,wBACA,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,kBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,kBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,qBAHJ,GADJ,EADA,cAQA,uBAEJX,IAAI,CACCgB,IADL,CACU,SAASC,CAAT,CAAYC,CAAZ,CAAe,CACjB,GAAIC,CAAAA,KAAK,CAAGF,CAAC,CAACG,IAAF,CAAOC,WAAP,EAAZ,CACA,GAAIC,CAAAA,KAAK,CAAGJ,CAAC,CAACE,IAAF,CAAOC,WAAP,EAAZ,CACA,GAAIF,KAAK,CAAGG,KAAZ,CAAmB,CACf,MAAO,CAAC,CAAR,CACH,CACD,GAAIH,KAAK,CAAGG,KAAZ,CAAmB,CACf,MAAO,EAAP,CACH,CAED,MAAO,EAAP,CACH,CAZL,EAaKC,GAbL,CAaS,SAACC,GAAD,CAAMC,GAAN,CAAY,CACb,mBAAQ,YAAc,SAAS,CAAC,cAAxB,wBACI,oBAAMD,GAAG,CAACE,IAAV,EADJ,cAEI,0BAAOF,GAAG,CAACJ,IAAX,OAFJ,cAGI,mCAAI,KAAC,IAAD,EAAM,EAAE,sBAAgBI,GAAG,CAACG,GAApB,CAAR,CAAmC,SAAS,CAAC,sBAA7C,kBAAJ,kBAAoF,KAAC,IAAD,EAAM,EAAE,iBAAWH,GAAG,CAACG,GAAf,CAAR,CAA8B,SAAS,CAAC,mBAAxC,qBAApF,GAHJ,GAASF,GAAT,CAAR,CAKP,CAnBD,CAFI,EARA,GADR,EAFJ,GADJ,CAwCH,CApED,CAsEA,cAAe3B,CAAAA,OAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {Link} from '@reach/router';\nimport axios from 'axios';\nimport './PetList.css'\n// import { navigate } from '@reach/router';\n\nconst PetList = (props) => {\n    const [pets, setPets] = useState([]);\n    const [deleteOrAddPet, setDeleteOrAddPet] = useState(false);\n\n    useEffect(()=>{\n        axios\n            .get('http://localhost:8000/api/allPets')\n            .then(res => {\n                setPets(res.data.pets)\n                console.log(\"Pets set...\")\n            })\n            .catch(err => console.log(\"Error with axios: \", err))\n    }, [deleteOrAddPet] )\n\n    const onDelete = (event, petToDelete) => {\n        console.log(\"Deleting...\")\n        axios\n            .delete(`http://localhost:8000/api/deletePet/${petToDelete}`)\n            .then(res=>{\n                console.log(\"Delete in progress...\")\n                console.log(res)\n                setDeleteOrAddPet(!deleteOrAddPet)\n                \n\n            })\n            .catch(err=>console.log(\"Error: \", err))\n    }\n\n    return (\n        <div>\n            <Link to={`/createPet`} className=\"btn btn-outline-dark btn-lg\">Add A Pet to the Shelter</Link>\n            <div className=\"\" >\n                    <table class=\"table border border-3 rounded w-50 mx-auto petTable\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Type</th>\n                            <th scope=\"col\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n            {\n                pets\n                    .sort(function(a, b) {\n                        let typeA = a.type.toUpperCase();\n                        let typeB = b.type.toUpperCase(); \n                        if (typeA < typeB) {\n                            return -1;\n                        }\n                        if (typeA > typeB) {\n                            return 1;\n                        }\n                        \n                        return 0;\n                    })\n                    .map((pet, idx)=>{ \n                        return  <tr key={idx} className=\"align-middle\" >\n                                    <td>{ pet.name }</td>\n                                    <td> { pet.type } </td>\n                                    <td><Link to={`/pets/edit/${pet._id}`} className=\"btn btn-warning mx-1\">Edit</Link> <Link to={`/pets/${pet._id}`} className=\"btn btn-info mx-1\">Details</Link></td>\n                                </tr>          \n                })\n            }\n            </tbody>\n            </table>\n            </div> \n        </div>\n    )\n}\n\nexport default PetList;"]},"metadata":{},"sourceType":"module"}